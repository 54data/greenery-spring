<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mycompany.miniproject.dao.OrderDetailDao">
	<select id="getOrderDetailByOd" resultType="OrderDetail" parameterType="String">
	    SELECT 
	        o.order_id, 
	        o.user_id, 
	        o.order_date, 
	        od.product_id, 
	        od.product_qty, 
	        od.product_price, 
	        p.product_name,
	        p.product_summary
	    FROM orders o
	    JOIN order_detail od 
	      ON o.order_id = od.order_id
	    JOIN product p 
	      ON od.product_id = p.product_id
	    WHERE o.user_id = #{userId}
	</select>
</mapper>